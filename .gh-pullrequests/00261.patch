From 575e717f321f3aeb83cafdecb4ccee9a0c3ecf9e Mon Sep 17 00:00:00 2001
From: Bob Summerwill <bob@summerwill.net>
Date: Sun, 19 Jan 2020 13:04:15 -0800
Subject: [PATCH 1/6] Phoenix Hard-fork to occur at the same block as Aztlan -
 to "fix it".

---
 _specs/ecip-aztlan-fix.md | 84 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 84 insertions(+)
 create mode 100644 _specs/ecip-aztlan-fix.md

diff --git a/_specs/ecip-aztlan-fix.md b/_specs/ecip-aztlan-fix.md
new file mode 100644
index 00000000..2c27dbad
--- /dev/null
+++ b/_specs/ecip-aztlan-fix.md
@@ -0,0 +1,84 @@
+---
+lang: en
+ecip: Unassigned
+title: Phoenix EVM and Protocol Upgrades
+author: Bob Summerwill (@bobsummerwill)
+status: Draft
+type: Meta
+created: 2020-01-19
+license: Apache-2.0
+discussions-to: TBD
+---
+
+### Simple Summary
+
+This ECIP describes a hard-fork which would occur at the same block as
+[ECIP 1061: Aztlán EVM and Protocol Upgrades (Yingchun Edition)](https://ecips.ethereumclassic.org/ECIPs/ecip-1061) to "fix" two issues with ECIP-1061 where the written specification
+did not match the original intent.
+
+
+### Abstract
+
+The network participants who took part in the ETC Core Developers call on xx/xx/xx were under the
+impression at the time that the scope we agreed ("Instanbul without the backward-compatibility
+breaking parts of EIP-1884") - ECIP-1061 / ECIP-1072 - would move the ETC protocol to a place where
+it was 100% compatible with the ETH mainnet.
+
+[Wei Tang](https://github.com/sorpaas)'s implementation of ECIP-1061 shortly afterwards revealed
+two flaws in the specification, together with recommendations on how to address those shortcomings.
+
+This ECIP codifies those recommendations.
+
+Both hard-forks would be activated at the same block and the combination of both sets of changes
+would result in protocol changes which met the original intent.
+
+
+### Specification
+
+This document proposes the following blocks at which to implement these changes in the Classic networks:
+
+- `778_507` on Mordor Classic PoW-testnet (Feb 5th, 2020)
+- `2_058_191` on Kotti Classic PoA-testnet (Feb 12th, 2020)
+- `10_500_839` on Ethereum Classic PoW-mainnet (March 25th, 2020)
+
+After HARD_FORK_BLOCK, apply the following changes:
+
+- Disable [EIP-2200](https://eips.ethereum.org/EIPS/eip-2200)
+- Enable [EIP-1283](https://eips.ethereum.org/EIPS/eip-1283) with [EIP-1706](https://eips.ethereum.org/EIPS/eip-1706) instead.
+- Enable [https://specs.corepaper.org/50-selfbalance50-SELFBALANCE
+- Enable [50-SELFBALANCE](https://specs.corepaper.org/50-selfbalance) - TODO - create an ECIP for this.
+
+
+### Rationale
+
+[ECIP 1061: Aztlán EVM and Protocol Upgrades (Yingchun Edition)](https://ecips.ethereumclassic.org/ECIPs/ecip-1061) as defined is "broken" and it would be inadvisable to activate on the ETC mainnet in
+its current state.
+
+Two better options are:
+
+1. "fix it" and proceed on the existing timeline, if there is enough time to do that.
+2. Withdraw it and build consensus for a new HF on a more conservative timeline.
+
+
+### Implementation
+
+Adoption of the content of this ECIP requires a hard fork as it introduces changes that are not backward compatible.
+
+The following clients with Ethereum Classic support implement the _Istanbul_ features currently:
+
+- Parity Ethereum
+- Multi-Geth
+- Hyperledger Besu
+
+The author is unaware if any of these clients have implemented [EIP-1706](https://eips.ethereum.org/EIPS/eip-1706), but it is a very simple change, analogous to [EIP-2200](https://eips.ethereum.org/EIPS/eip-2200), which all the
+codebases have already implemented.
+
+Similarly [50-SELFBALANCE](https://specs.corepaper.org/50-selfbalance) has not been implemented in any of these
+codebases, but is just a "remix" of code which they have already implemented.
+
+
+## Copyright
+
+This work is licensed under the [Apache License, Version 2.0](https://www.apache.org/licenses/LICENSE-2.0).  The author, Bob Summerwill, attests to his sole authorship of this work, and that he is able to contribute this work to the ECIP process under the Apache 2.0 licence.
+
+He further attests that he neither holds nor is aware of any patents, trademarks, copyright issues or other IP hinderances associated with this work.

From 63ea6eadd8381d0ccdb1a57d71d2db3d6bac874e Mon Sep 17 00:00:00 2001
From: Bob Summerwill <bob@summerwill.net>
Date: Sun, 19 Jan 2020 13:06:17 -0800
Subject: [PATCH 2/6] Added discussion link.

---
 _specs/ecip-aztlan-fix.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/_specs/ecip-aztlan-fix.md b/_specs/ecip-aztlan-fix.md
index 2c27dbad..0a22ddee 100644
--- a/_specs/ecip-aztlan-fix.md
+++ b/_specs/ecip-aztlan-fix.md
@@ -7,7 +7,7 @@ status: Draft
 type: Meta
 created: 2020-01-19
 license: Apache-2.0
-discussions-to: TBD
+discussions-to: https://github.com/ethereumclassic/ECIPs/issues/262
 ---
 
 ### Simple Summary

From 502bbd7575286970578379133b4d4fc1a3486945 Mon Sep 17 00:00:00 2001
From: Bob Summerwill <bob@summerwill.net>
Date: Sun, 19 Jan 2020 13:25:23 -0800
Subject: [PATCH 3/6] Added details for the ETC Core Developer call where the
 scope of Aztlan was set, and link to Wei's recommendations on "Atzlan fix".

---
 _specs/ecip-aztlan-fix.md | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

diff --git a/_specs/ecip-aztlan-fix.md b/_specs/ecip-aztlan-fix.md
index 0a22ddee..d0cc9b59 100644
--- a/_specs/ecip-aztlan-fix.md
+++ b/_specs/ecip-aztlan-fix.md
@@ -19,15 +19,16 @@ did not match the original intent.
 
 ### Abstract
 
-The network participants who took part in the ETC Core Developers call on xx/xx/xx were under the
-impression at the time that the scope we agreed ("Instanbul without the backward-compatibility
-breaking parts of EIP-1884") - ECIP-1061 / ECIP-1072 - would move the ETC protocol to a place where
-it was 100% compatible with the ETH mainnet.
+The network participants who took part in the
+[ETC Core Developers call](https://github.com/ethereumclassic/ECIPs/issues/177) on 27th November 2019
+were under the impression at the time that the scope we agreed ("Instanbul without the
+backward-compatibility breaking parts of EIP-1884") - ECIP-1061 / ECIP-1072 - would move the ETC
+protocol to a place where it was 100% compatible with the ETH mainnet.
 
 [Wei Tang](https://github.com/sorpaas)'s implementation of ECIP-1061 shortly afterwards revealed
 two flaws in the specification, together with recommendations on how to address those shortcomings.
 
-This ECIP codifies those recommendations.
+This ECIP codifies [those recommendations](https://specs.corepaper.org/49-aztlanfix).
 
 Both hard-forks would be activated at the same block and the combination of both sets of changes
 would result in protocol changes which met the original intent.

From 4822251081805bc459bb59d97aec64c4e814b111 Mon Sep 17 00:00:00 2001
From: Bob Summerwill <bob@summerwill.net>
Date: Sun, 19 Jan 2020 14:30:23 -0800
Subject: [PATCH 4/6] Pointing to new SELFBALANCE opcode ECIP and updated
 Rationale.

---
 _specs/ecip-aztlan-fix.md | 25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

diff --git a/_specs/ecip-aztlan-fix.md b/_specs/ecip-aztlan-fix.md
index d0cc9b59..33df7c1a 100644
--- a/_specs/ecip-aztlan-fix.md
+++ b/_specs/ecip-aztlan-fix.md
@@ -47,7 +47,7 @@ After HARD_FORK_BLOCK, apply the following changes:
 - Disable [EIP-2200](https://eips.ethereum.org/EIPS/eip-2200)
 - Enable [EIP-1283](https://eips.ethereum.org/EIPS/eip-1283) with [EIP-1706](https://eips.ethereum.org/EIPS/eip-1706) instead.
 - Enable [https://specs.corepaper.org/50-selfbalance50-SELFBALANCE
-- Enable [50-SELFBALANCE](https://specs.corepaper.org/50-selfbalance) - TODO - create an ECIP for this.
+- Enable [SELFBALANCE opcode](https://github.com/ethereumclassic/ECIPs/issues/266)
 
 
 ### Rationale
@@ -55,10 +55,27 @@ After HARD_FORK_BLOCK, apply the following changes:
 [ECIP 1061: Aztlán EVM and Protocol Upgrades (Yingchun Edition)](https://ecips.ethereumclassic.org/ECIPs/ecip-1061) as defined is "broken" and it would be inadvisable to activate on the ETC mainnet in
 its current state.
 
-Two better options are:
+See [EIP 1884: Repricing for trie-size-dependent opcodes](https://eips.ethereum.org/EIPS/eip-1884) for
+the original rationale for the gas-repricings for ETH.
 
-1. "fix it" and proceed on the existing timeline, if there is enough time to do that.
-2. Withdraw it and build consensus for a new HF on a more conservative timeline.
+These changes are sensible, but they [broke 680 deployed Aragon smart contracts](https://www.coindesk.com/ethereums-istanbul-upgrade-will-break-680-smart-contracts-on-aragon) along with various other deployed
+smart contacts by applying the repricings retroactively and unconditionally.
+
+The new SELFBALANCE opcode does not break backwards compatibility.  For compatibility with ETH it is both
+necessary and desirable.
+
+Short of imminent and catatrophic danger to the ETC network, making retroactive changes which break
+backwards compatibility is counter to ETC values and philosophy.
+
+Gas-repricings to balance EVM gas prices with real world resource usage is entirely rational and is
+happening on the ETC protocol too, but will be done in a backwards-compatible ways wherever possible.
+Unconditional retroactive ("emergency") repricings would only happen when the network has been halted
+or has been rendered unusable.
+
+An example of such a situation occurred following the Shanghai attacks on ETH and ETC networks:
+
+[ECIP 1015: Long-term gas cost changes for IO-heavy operations to mitigate transaction spam attacks](https://ecips.ethereumclassic.org/ECIPs/ecip-1015), which has ETC's equivalent to [ETH Tangerine Whistle](https://eips.ethereum.org/EIPS/eip-608),
+with both chains implementing [EIP 150: Gas cost changes for IO-heavy operations](https://eips.ethereum.org/EIPS/eip-150).
 
 
 ### Implementation

From 9d0f3753f878702beb9b1a3eb91af9bebdf4580a Mon Sep 17 00:00:00 2001
From: Bob Summerwill <bob@summerwill.net>
Date: Sun, 19 Jan 2020 14:59:10 -0800
Subject: [PATCH 5/6] Sorpaas assigned ECIP-1078 number to this proposal.

---
 _specs/{ecip-aztlan-fix.md => ecip-1078.md} | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
 rename _specs/{ecip-aztlan-fix.md => ecip-1078.md} (99%)

diff --git a/_specs/ecip-aztlan-fix.md b/_specs/ecip-1078.md
similarity index 99%
rename from _specs/ecip-aztlan-fix.md
rename to _specs/ecip-1078.md
index 33df7c1a..8fb5a118 100644
--- a/_specs/ecip-aztlan-fix.md
+++ b/_specs/ecip-1078.md
@@ -1,6 +1,6 @@
 ---
 lang: en
-ecip: Unassigned
+ecip: 1078
 title: Phoenix EVM and Protocol Upgrades
 author: Bob Summerwill (@bobsummerwill)
 status: Draft

From 128a31ceaa7b68fbb0a689781de1ab3c27c5f38a Mon Sep 17 00:00:00 2001
From: Bob Summerwill <bob@summerwill.net>
Date: Sun, 19 Jan 2020 15:03:34 -0800
Subject: [PATCH 6/6] Updated SELFBALANCE links to use assigned ECIP-1080
 number.

---
 _specs/ecip-1078.md | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/_specs/ecip-1078.md b/_specs/ecip-1078.md
index 8fb5a118..c5e07b43 100644
--- a/_specs/ecip-1078.md
+++ b/_specs/ecip-1078.md
@@ -47,7 +47,7 @@ After HARD_FORK_BLOCK, apply the following changes:
 - Disable [EIP-2200](https://eips.ethereum.org/EIPS/eip-2200)
 - Enable [EIP-1283](https://eips.ethereum.org/EIPS/eip-1283) with [EIP-1706](https://eips.ethereum.org/EIPS/eip-1706) instead.
 - Enable [https://specs.corepaper.org/50-selfbalance50-SELFBALANCE
-- Enable [SELFBALANCE opcode](https://github.com/ethereumclassic/ECIPs/issues/266)
+- Enable [ECIP-1080](https://github.com/ethereumclassic/ECIPs/issues/266)
 
 
 ### Rationale
@@ -91,8 +91,7 @@ The following clients with Ethereum Classic support implement the _Istanbul_ fea
 The author is unaware if any of these clients have implemented [EIP-1706](https://eips.ethereum.org/EIPS/eip-1706), but it is a very simple change, analogous to [EIP-2200](https://eips.ethereum.org/EIPS/eip-2200), which all the
 codebases have already implemented.
 
-Similarly [50-SELFBALANCE](https://specs.corepaper.org/50-selfbalance) has not been implemented in any of these
-codebases, but is just a "remix" of code which they have already implemented.
+Similarly [ECIP-1080](https://github.com/ethereumclassic/ECIPs/issues/266) has not been implemented in any of these codebases, but is just a "remix" of code which they have already implemented.
 
 
 ## Copyright
